<a href="https://javascript.info/array-methods" style="font-size: 100px;">5.5 Array Methods</a>

<script>

// 1. done
function camelize(str) {
    return str
        .split('-')
        .map((word, index) => index == 0 ? word : word[0].toUpperCase() + word.slice(1))
        .join('');
}

console.log(camelize("background-color") == 'backgroundColor');         true
console.log(camelize("list-style-image") == 'listStyleImage');          true
console.log(camelize("-webkit-transition") == 'WebkitTransition');      true
console.log('______________________________');




// 2. done
function filterRange(arr2, a, b) {
    return arr2.filter(item => (item >= a && item <= b));
}

let arr2 = [5, 3, 8, 1];
let filtered = filterRange(arr2, 1, 4);

console.log(filtered);          // 3,1 (matching values)
console.log(arr2);
console.log('______________________________');




// 3. done
function filterRangeInPlace(arr3, a, b) {
    for (let i = 0; i < arr3.length; i++) {
        let val = arr3[i];

        if (arr3[i] < a || arr3[i] > b) {
            arr3.splice(i, 1);
            i--;
        }
    }
}

let arr3 = [5, 3, 8, 1];

filterRangeInPlace(arr3, 1, 4);     // removed the numbers except from 1 to 4

console.log(arr3);                  // 3, 1
console.log('______________________________');




// 4. done
let arr4 = [5, 2, 1, -10, 8];

arr4.sort((a, b) => b - a);

console.log(arr4);
console.log('______________________________');




// 5. done
let arr5 = ["HTML", "JavaScript", "CSS"];
let sorted = copySorted(arr5);

function copySorted(arr5) {
    return arr5.slice().sort();
}

console.log(sorted);
console.log(arr5);
console.log('______________________________');




// 6. done
function Calculator() {
    this.methods = {
        '+': (a, b) => a + b,
        '-': (a, b) => a - b,
    }

    this.calculate = function(str6) {
        let split = str6.split(' ');
            a = +split[0];
            op = split[1];
            b = +split[2];
        
        if (!this.methods[op] || isNaN(a) || isNaN(b)) return NaN;
        
        return this.methods[op](a, b);
    }

    this.addMethod = function(name, func) {
        this.methods[name] = func;
    }
}

let calc = new Calculator;
let powerCalc = new Calculator;

powerCalc.addMethod("*", (a, b) => a * b);
powerCalc.addMethod("/", (a, b) => a / b);
powerCalc.addMethod("**", (a, b) => a ** b);

let result = powerCalc.calculate("2 ** 3");

console.log(calc.calculate('1 + 2'));
console.log(calc.calculate('11 + -20'));
console.log(calc.calculate('11 - -20'));
console.log(calc.calculate('11 5 -20'));
console.log(powerCalc.calculate('11 * -20'));
console.log(result);
console.log('______________________________');




// 7. done
let john = {name: 'John', age: 25};
let pete = {name: 'Pete', age: 30};
let mary = {name: 'Mary', age: 28};

let users7 = [john, pete, mary];
let names = users7.map(item => item.name);

console.log(users7);
console.log(names);
console.log('______________________________');




// 8. done
let mark = {name: 'Mark', surname: 'Smith', id: 1};
let adam = {name: 'Adam', surname: 'Hunt', id: 2};
let anna = {name: 'Anna', surname: 'Key', id: 3};

let users8 = [mark, adam, anna];
let usersMaped = users8.map(user => ({
    fullName: `${user.name} ${user.surname}`,
    id: user.id
}))

console.log(users8);
console.log(usersMaped);
console.log('______________________________');




// 9. done
let john9 = { name: "John", age: 25 };
let pete9 = { name: "Pete", age: 30 };
let mary9 = { name: "Mary", age: 28 };

let arr9 = [pete9, john9, mary9];

function sortByAge(users) {
    arr9.sort((a, b) => a.age - b.age);

    return arr9;
}

console.log(arr9);
console.log(sortByAge(arr9));
console.log('______________________________');




// 10. done
let arr10 = [1, 2, 3];

function shuffle(arr10) {
    arr10.sort(() => Math.random() - 0.5);

    return arr10;
}

function shuffleFisherYates(arr10) {
    for (let i = arr10.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));

        [arr10[i], arr10[j]] = [arr10[j], arr10[i]];

        return arr10;
    }
}

console.log(arr10);
console.log(shuffle(arr10));
console.log(shuffleFisherYates(arr10));
console.log('______________________________');




// 11. done
let john11 = { name: "John", age: 25 };
let pete11 = { name: "Pete", age: 30 };
let mary11 = { name: "Mary", age: 29 };

let arr11 = [john11, pete11, mary11];

function getAverageAge(arr11) {                 // simple solution
    let age = 0;
    let count = 0;
    
    for (let key of arr11) {
        age += key.age;
        count++;
    }
    
    let average = age / count;

    return average;
}

function getAverageAgeReduce(arr11) {
    return arr11.reduce((prev, user) => prev + user.age, 0) / arr11.length;
}

console.log(getAverageAge(arr11));
console.log(getAverageAgeReduce(arr11));
console.log('______________________________');




// 12. done
function unique(arr12) {
    let unique = [];

    for (let i = 0; i < strings.length; i++) {
        if (!unique.includes(strings[i])) {
            unique.push(strings[i])
        }
    }

    return unique;
}

let strings = ["Hare", "Krishna", "Hare", "Krishna",
               "Krishna", "Krishna", "Hare", "Hare", ":-O"
              ];

console.log( unique(strings) );
console.log('______________________________');




// 13. done
function groupById(users) {                     // simple solution
    let usersObj = {};

    for (let i = 0; i < users.length; i++) {
        usersObj[users[i].id] = users[i];
    }

    return usersObj;
}

function groupByIdReduce(users) {               // reduce
    let usersObj = {};

    let res = users.reduce((obj, item) => {
        usersObj[item.id] = item;
    }, 0);

    return usersObj;
}

let users = [
    {id: 'john', name: "John Smith", age: 20},
    {id: 'ann', name: "Ann Smith", age: 24},
    {id: 'pete', name: "Pete Peterson", age: 31},
];

let usersById = groupById(users);
let usersByIdReduce = groupByIdReduce(users);

console.log(usersById);
console.log(usersByIdReduce);
console.log('______________________________');


</script>